import{T as U}from"./TableCustom-C3lpRcUk.js";import{f as x}from"./index-COWToMlm.js";import{r as k,c as i,a as s,w as t,e as z,b as p,o as a,i as m,t as u,F as b,g as r}from"./index-BS9omtiK.js";const B={key:1},E={key:1},T={key:1},h={key:1},j={__name:"tableEditor",setup($){let g=k([{type:"index",label:"序号",width:55,align:"center"},{prop:"name",label:"用户名"},{prop:"password",label:"密码"},{prop:"email",label:"邮箱"},{prop:"role",label:"角色"},{prop:"operator",label:"操作",width:180}]);const c=k([]);(async()=>{const n=await x();c.value=n.data.list})();const f=k({}),v=n=>{f.value={...n},n.editing=!0},C=(n,l)=>{n.editing=!1,c.value[l]={...f.value}};return(n,l)=>{const _=p("el-input"),y=p("el-option"),D=p("el-select"),d=p("el-button");return a(),i("div",null,[s(U,{columns:z(g),tableData:c.value,hasToolbar:!1,hasPagination:!1},{name:t(({rows:e})=>[e.editing?(a(),m(_,{key:0,modelValue:e.name,"onUpdate:modelValue":o=>e.name=o},null,8,["modelValue","onUpdate:modelValue"])):(a(),i("span",B,u(e.name),1))]),password:t(({rows:e})=>[e.editing?(a(),m(_,{key:0,modelValue:e.password,"onUpdate:modelValue":o=>e.password=o},null,8,["modelValue","onUpdate:modelValue"])):(a(),i("span",E,u(e.password),1))]),email:t(({rows:e})=>[e.editing?(a(),m(_,{key:0,modelValue:e.email,"onUpdate:modelValue":o=>e.email=o},null,8,["modelValue","onUpdate:modelValue"])):(a(),i("span",T,u(e.email),1))]),role:t(({rows:e})=>[e.editing?(a(),m(D,{key:0,modelValue:e.role,"onUpdate:modelValue":o=>e.role=o},{default:t(()=>[s(y,{label:"管理员",value:"管理员"}),s(y,{label:"普通用户",value:"普通用户"})]),_:2},1032,["modelValue","onUpdate:modelValue"])):(a(),i("span",h,u(e.role),1))]),operator:t(({rows:e,index:o})=>[e.editing?(a(),i(b,{key:1},[s(d,{type:"success",size:"small",icon:"Select",onClick:V=>e.editing=!1},{default:t(()=>l[3]||(l[3]=[r(" 保存 ")])),_:2},1032,["onClick"]),s(d,{type:"default",size:"small",icon:"CloseBold",onClick:V=>C(e,o)},{default:t(()=>l[4]||(l[4]=[r(" 取消 ")])),_:2},1032,["onClick"])],64)):(a(),i(b,{key:0},[s(d,{type:"primary",size:"small",icon:"Edit",onClick:V=>v(e)},{default:t(()=>l[1]||(l[1]=[r(" 编辑 ")])),_:2},1032,["onClick"]),s(d,{type:"danger",size:"small",icon:"Delete",onClick:l[0]||(l[0]=()=>{})},{default:t(()=>l[2]||(l[2]=[r(" 删除 ")])),_:1})],64))]),_:1},8,["columns","tableData"])])}}};export{j as default};
