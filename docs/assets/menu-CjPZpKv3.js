import{T}from"./TableCustom-DzejWlNC.js";import{_ as U,a as $}from"./TableEdit-DPYP1WhN.js";import{r as o,c as q,a,w as t,e as m,m as V,E as I,b as u,o as v,g as N,i as x,j as y}from"./index-CWHsYAsn.js";const S={__name:"menu",setup(O){let D=o([{prop:"title",label:"菜单名称",align:"left"},{prop:"icon",label:"图标"},{prop:"index",label:"路由路径"},{prop:"permiss",label:"权限标识"},{prop:"operator",label:"操作",width:250}]);const b=n=>n.map(e=>{const r={label:e.title,value:e.id};return e.children&&(r.children=b(e.children)),r}),g=o(b(V));let k=o({labelWidth:"100px",span:12,list:[{type:"input",label:"菜单名称",prop:"title",required:!0},{type:"input",label:"路由路径",prop:"index",required:!0},{type:"input",label:"图标",prop:"icon"},{type:"input",label:"权限标识",prop:"permiss"},{type:"parent",label:"父菜单",prop:"parent"}]});const s=o(!1),p=o(!1),i=o({}),C=n=>{i.value={...n},p.value=!0,s.value=!0},E=()=>{f()},f=()=>{s.value=!1,p.value=!1},d=o(!1),c=o({row:{},list:[]}),h=n=>{c.value.row={...n},c.value.list=[{prop:"id",label:"菜单ID"},{prop:"pid",label:"父菜单ID"},{prop:"title",label:"菜单名称"},{prop:"index",label:"路由路径"},{prop:"permiss",label:"权限标识"},{prop:"icon",label:"图标"}],d.value=!0},B=n=>{I.success("删除成功")};return(n,e)=>{const r=u("el-button"),_=u("el-icon"),F=u("el-cascader"),w=u("el-dialog");return v(),q("div",null,[a(T,{columns:m(D),tableData:m(V),"row-key":"index","has-pagination":!1,viewFunc:h,delFunc:B,editFunc:C},{toolbarBtn:t(()=>[a(r,{type:"warning",icon:"CirclePlusFilled",onClick:e[0]||(e[0]=l=>s.value=!0)},{default:t(()=>e[4]||(e[4]=[N("新增")])),_:1})]),icon:t(({rows:l})=>[a(_,null,{default:t(()=>[(v(),x(y(l.icon)))]),_:2},1024)]),_:1},8,["columns","tableData"]),a(w,{title:p.value?"编辑":"新增",modelValue:s.value,"onUpdate:modelValue":e[2]||(e[2]=l=>s.value=l),width:"700px","destroy-on-close":"","close-on-click-modal":!1,onClose:f},{default:t(()=>[a(U,{"form-data":i.value,options:m(k),edit:p.value,update:E},{parent:t(()=>[a(F,{modelValue:i.value.pid,"onUpdate:modelValue":e[1]||(e[1]=l=>i.value.pid=l),options:g.value,props:{checkStrictly:!0},clearable:""},null,8,["modelValue","options"])]),_:1},8,["form-data","options","edit"])]),_:1},8,["title","modelValue"]),a(w,{title:"查看详情",modelValue:d.value,"onUpdate:modelValue":e[3]||(e[3]=l=>d.value=l),width:"700px","destroy-on-close":""},{default:t(()=>[a($,{data:c.value},{icon:t(({rows:l})=>[a(_,null,{default:t(()=>[(v(),x(y(l.icon)))]),_:2},1024)]),_:1},8,["data"])]),_:1},8,["modelValue"])])}}};export{S as default};
