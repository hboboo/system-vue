import{_ as L,r as y,h as $,L as B,M as F,c as O,d as o,N as P,a as s,w as t,O as T,b as n,o as q,P as E,e as V,g as _,E as x}from"./index-D4Q0X92K.js";const J={class:"login-background"},K={class:"login-box"},M={class:"login-options"},z={class:"login-footer"},R={class:"login-register"},j={__name:"login",setup(A){const u=T(),p=y(),a=y(!1),m=localStorage.getItem("login-param"),i=m?JSON.parse(m):null;a.value=!!m;const r=$({username:i?i.username:"",password:i?i.password:""}),S={username:[{required:!0,message:"请输入用户名",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"}]},f=B(),c=d=>{d&&d.validate(e=>{if(e){x.success("登录成功"),localStorage.setItem("vuems_name",r.username);const g=f.defaultList[r.username=="admin"?"admin":"user"];f.handleSet(g),a.value?localStorage.setItem("login-param",JSON.stringify(r)):localStorage.removeItem("login-param"),u.push("/")}else return x.error("登录失败"),!1})};return F().clearTabs(),(d,e)=>{const g=n("User"),v=n("el-icon"),b=n("el-input"),k=n("el-form-item"),N=n("Lock"),C=n("el-checkbox"),w=n("el-link"),I=n("el-button"),U=n("el-form");return q(),O("div",J,[o("div",K,[e[13]||(e[13]=o("div",{class:"login-title"},[o("img",{src:P}),o("span",null,"后台管理系统")],-1)),s(U,{ref_key:"loginForm",ref:p,model:r,rules:S,class:"login-form"},{default:t(()=>[s(k,{prop:"username"},{default:t(()=>[s(b,{modelValue:r.username,"onUpdate:modelValue":e[0]||(e[0]=l=>r.username=l),placeholder:"用户名",style:{width:"350px"}},{prepend:t(()=>[s(v,null,{default:t(()=>[s(g)]),_:1})]),_:1},8,["modelValue"])]),_:1}),s(k,{prop:"password"},{default:t(()=>[s(b,{modelValue:r.password,"onUpdate:modelValue":e[1]||(e[1]=l=>r.password=l),placeholder:"密码",type:"password",onKeyup:e[2]||(e[2]=E(l=>c(p.value),["enter"])),"show-password":"",style:{width:"350px"}},{prepend:t(()=>[s(v,null,{default:t(()=>[s(N)]),_:1})]),_:1},8,["modelValue"])]),_:1}),o("div",M,[s(C,{modelValue:a.value,"onUpdate:modelValue":e[3]||(e[3]=l=>a.value=l),label:"记住密码",size:"large"},null,8,["modelValue"]),s(w,{type:"primary",onClick:e[4]||(e[4]=l=>V(u).push("/reset-pwd"))},{default:t(()=>e[7]||(e[7]=[_("忘记密码")])),_:1})]),s(I,{type:"primary",class:"login-button",onClick:e[5]||(e[5]=l=>c(p.value))},{default:t(()=>e[8]||(e[8]=[_("登录")])),_:1}),o("div",z,[e[11]||(e[11]=o("p",{class:"login-tips"},"tips: 管理员账号 admin 密码随便填",-1)),e[12]||(e[12]=o("p",{class:"login-tips"},"用户账号 随便填",-1)),o("div",R,[e[10]||(e[10]=o("span",null,"没有账号？",-1)),s(w,{type:"primary",onClick:e[6]||(e[6]=l=>V(u).push("/register"))},{default:t(()=>e[9]||(e[9]=[_("立即注册")])),_:1})])])]),_:1},8,["model"])])])}}},H=L(j,[["__scopeId","data-v-197b6106"]]);export{H as default};
