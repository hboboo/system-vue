import{b as o,o as t,i as u,w as p,c as V,F as y,f as k,e as c,g as h,t as x,l as q,r as g,a as v}from"./index-D4Q0X92K.js";const O={__name:"TableDetail",props:{data:{type:Object,required:!0}},setup(d){const i=d,{row:_,title:l,column:b=2,list:a}=i.data;return(r,w)=>{const f=o("el-descriptions-item"),m=o("el-descriptions");return t(),u(m,{title:c(l),column:c(b),border:""},{default:p(()=>[(t(!0),V(y,null,k(c(a),s=>(t(),u(f,{span:s.span},{label:p(()=>[h(x(s.label),1)]),default:p(()=>[q(r.$slots,s.prop,{rows:c(_)},()=>[h(x(s.value||c(_)[s.prop]),1)])]),_:2},1032,["span"]))),256))]),_:3},8,["title","column"])}}},E={__name:"TableEdit",props:{options:{type:Object,required:!0},formData:{type:Object,required:!0},edit:{type:Boolean,required:!1},update:{type:Function,required:!0}},setup(d){const i=g(),_=a=>{a&&a.validate(r=>{if(!r)return!1;d.update(l.value)})},l=g({...d.edit?d.formData:{}}),b=d.options.list.map(a=>a.required?{[a.prop]:[{required:!0,message:`${a.label}不能为空`,trigger:"blur"}]}:{}).reduce((a,r)=>({...a,...r}),{});return(a,r)=>{const w=o("el-input"),f=o("el-input-number"),m=o("el-option"),s=o("el-select"),T=o("el-date-picker"),$=o("el-switch"),U=o("el-form-item"),B=o("el-col"),D=o("el-row"),j=o("el-button"),C=o("el-form");return t(),u(C,{ref_key:"formRef",ref:i,model:l.value,rules:c(b),"label-width":d.options.labelWidth},{default:p(()=>[v(D,null,{default:p(()=>[(t(!0),V(y,null,k(d.options.list,e=>(t(),u(B,{span:d.options.span},{default:p(()=>[v(U,{label:e.label,prop:e.prop},{default:p(()=>[e.type==="input"?(t(),u(w,{key:0,modelValue:l.value[e.prop],"onUpdate:modelValue":n=>l.value[e.prop]=n,placeholder:e.placeholder,disabled:e.disabled,clearable:""},null,8,["modelValue","onUpdate:modelValue","placeholder","disabled"])):e.type==="number"?(t(),u(f,{key:1,modelValue:l.value[e.prop],"onUpdate:modelValue":n=>l.value[e.prop]=n,disabled:e.disabled,"controls-position":"right"},null,8,["modelValue","onUpdate:modelValue","disabled"])):e.type==="select"?(t(),u(s,{key:2,modelValue:l.value[e.prop],"onUpdate:modelValue":n=>l.value[e.prop]=n,disabled:a.disabled,placeholder:e.placeholder,clearable:""},{default:p(()=>[(t(!0),V(y,null,k(e.opt,n=>(t(),u(m,{label:n.label,value:n.value},null,8,["label","value"]))),256))]),_:2},1032,["modelValue","onUpdate:modelValue","disabled","placeholder"])):e.type==="date"?(t(),u(T,{key:3,modelValue:l.value[e.prop],"onUpdate:modelValue":n=>l.value[e.prop]=n,type:"date","value-format":e.format},null,8,["modelValue","onUpdate:modelValue","value-format"])):e.type==="switch"?(t(),u($,{key:4,modelValue:l.value[e.prop],"onUpdate:modelValue":n=>l.value[e.prop]=n,"active-value":e.activeValue,"active-text":e.activeText,"inactive-value":e.inactiveValue,"inactive-text":e.inactiveText},null,8,["modelValue","onUpdate:modelValue","active-value","active-text","inactive-value","inactive-text"])):q(a.$slots,e.prop,{key:5})]),_:2},1032,["label","prop"])]),_:2},1032,["span"]))),256))]),_:3}),v(U,null,{default:p(()=>[v(j,{type:"primary",onClick:r[0]||(r[0]=e=>_(i.value))},{default:p(()=>r[1]||(r[1]=[h("保存")])),_:1})]),_:1})]),_:3},8,["model","rules","label-width"])}}};export{E as _,O as a};
