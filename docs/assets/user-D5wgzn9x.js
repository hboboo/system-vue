import{T as F}from"./TableSearch-BVshNNeO.js";import{T as B}from"./TableCustom-CqXZWCiO.js";import{_ as U,a as $}from"./TableEdit-CqfOwNJ6.js";import{f as N}from"./index-COWToMlm.js";import{h as w,r as a,c as P,a as t,w as r,e as _,E as S,b as g,o as z,g as I}from"./index-D4Q0X92K.js";const H={__name:"user",setup(M){const h=w({name:""}),o=a(!1),n=a(!1),c=a({}),y=e=>{c.value={...e},n.value=!0,o.value=!0},D=a([{type:"input",label:"用户名：",prop:"name"}]),x=()=>{b(1)};let V=a([{type:"index",label:"序号",width:55,align:"center"},{prop:"name",label:"用户名"},{prop:"phone",label:"手机号"},{prop:"role",label:"角色"},{prop:"operator",label:"操作",width:250}]),q=a({labelWidth:"100px",span:12,list:[{type:"input",label:"用户名",prop:"name",required:!0},{type:"input",label:"手机号",prop:"phone",required:!0},{type:"input",label:"密码",prop:"password",required:!0},{type:"input",label:"邮箱",prop:"email",required:!0},{type:"input",label:"角色",prop:"role",required:!0}]});const m=a([]),p=async()=>{const e=await N();m.value=e.data.list,u.total=e.data.pageTotal};p();const u=w({index:1,size:10,total:2}),b=e=>{u.index=e,p()},i=a(!1),d=a({row:{},list:[]}),C=e=>{d.value.row={...e},d.value.list=[{prop:"id",label:"用户ID"},{prop:"name",label:"用户名"},{prop:"password",label:"密码"},{prop:"email",label:"邮箱"},{prop:"phone",label:"电话"},{prop:"role",label:"角色"},{prop:"date",label:"注册日期"}],i.value=!0},v=()=>{o.value=!1,n.value=!1},T=()=>{v(),p()},E=()=>{S.success("删除成功")};return(e,l)=>{const k=g("el-button"),f=g("el-dialog");return z(),P("div",null,[t(F,{query:h,options:D.value,search:x},null,8,["query","options"]),t(B,{columns:_(V),tableData:m.value,total:u.total,viewFunc:C,editFunc:y,"page-change":b,delFunc:E},{toolbarBtn:r(()=>[t(k,{type:"warning",icon:"CirclePlusFilled",onClick:l[0]||(l[0]=s=>o.value=!0)},{default:r(()=>l[3]||(l[3]=[I("新增")])),_:1})]),_:1},8,["columns","tableData","total"]),t(f,{title:n.value?"编辑":"新增",modelValue:o.value,"onUpdate:modelValue":l[1]||(l[1]=s=>o.value=s),width:"700px","destroy-on-close":"","close-on-click-modal":!1,onClose:v},{default:r(()=>[t(U,{"form-data":c.value,options:_(q),edit:n.value,update:T},null,8,["form-data","options","edit"])]),_:1},8,["title","modelValue"]),t(f,{title:"查看详情",modelValue:i.value,"onUpdate:modelValue":l[2]||(l[2]=s=>i.value=s),width:"700px","destroy-on-close":""},{default:r(()=>[t($,{data:d.value},null,8,["data"])]),_:1},8,["modelValue"])])}}};export{H as default};
