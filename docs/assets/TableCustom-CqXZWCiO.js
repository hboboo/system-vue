import{_ as X,n as Y,r as Z,b as o,o as a,c as u,e as r,d as B,l as V,F as i,a as t,w as n,k as f,f as z,i as h,p as ee,g as _,t as v,q as te}from"./index-D4Q0X92K.js";const ne={class:"table-custom-container"},oe={key:0,class:"table-toolbar"},le={class:"table-toolbar-left"},ae={class:"table-toolbar-right"},re={key:1},ce={key:2},ue={__name:"TableCustom",props:{hasToolbar:{type:Boolean,default:!0},tableData:{type:Array,default:[]},columns:{type:Array,default:[]},rowKey:{type:String,default:"id"},hasPagination:{type:Boolean,default:!0},total:{type:Number,default:0},currentPage:{type:Number,default:1},pageSize:{type:Number,default:10},layout:{type:String,default:"total, prev, pager, next"},changePage:{type:Function,default:()=>{}},viewFunc:{type:Function,default:()=>{}},editFunc:{type:Function,default:()=>{}},delFunc:{type:Function,default:()=>{}},delSelection:{type:Function,default:()=>{}},refresh:{type:Function,default:()=>{}}},setup(d){const p=d;let{tableData:D,columns:C,rowKey:N,hasToolbar:P,hasPagination:T,total:$,currentPage:w,pageSize:F,layout:E}=Y(p);const y=Z([]),R=l=>{y.value=l},A=l=>{p.changePage(l)};p.columns.forEach(l=>{l.visible===void 0&&(l.visible=!0)});const I=l=>{te.confirm("确认删除吗","提示",{type:"warning"}).then(async()=>{p.delFunc(l)}).catch(()=>{})},K=l=>l+1+(w.value-1)*F.value;return(l,s)=>{const U=o("Delete"),g=o("el-icon"),m=o("el-tooltip"),S=o("el-divider"),q=o("Refresh"),L=o("Setting"),M=o("el-checkbox"),j=o("el-dropdown-item"),G=o("el-dropdown-menu"),H=o("el-dropdown"),b=o("el-button"),J=o("el-table-column"),O=o("el-table"),Q=o("el-pagination");return a(),u("div",ne,[r(P)?(a(),u("div",oe,[B("div",le,[V(l.$slots,"toolbarBtn",{},void 0,!0)]),B("div",ae,[y.value.length>0?(a(),u(i,{key:0},[t(m,{effect:"dark",content:"删除选中",placement:"top",onClick:s[0]||(s[0]=e=>d.delSelection(y.value))},{default:n(()=>[t(g,null,{default:n(()=>[t(U)]),_:1})]),_:1}),t(S,{direction:"vertical"})],64)):f("",!0),t(m,{effect:"dark",content:"刷新",placement:"top",onClick:d.refresh},{default:n(()=>[t(g,null,{default:n(()=>[t(q)]),_:1})]),_:1},8,["onClick"]),t(S,{direction:"vertical"}),t(m,{effect:"dark",content:"列设置",placement:"top"},{default:n(()=>[t(H,{"hide-on-click":!1,trigger:"click",szie:"small"},{dropdown:n(()=>[t(G,null,{default:n(()=>[(a(!0),u(i,null,z(r(C),e=>(a(),h(j,null,{default:n(()=>[t(M,{modelValue:e.visible,"onUpdate:modelValue":c=>e.visible=c,label:e.label},null,8,["modelValue","onUpdate:modelValue","label"])]),_:2},1024))),256))]),_:1})]),default:n(()=>[t(g,null,{default:n(()=>[t(L)]),_:1})]),_:1})]),_:1})])])):f("",!0),t(O,{"header-cell-style":{background:"#f4f6f8"},data:r(D),style:{width:"100%"},border:"","row-key":r(N),"table-layout":"auto",onSelectionChange:R},{default:n(()=>[(a(!0),u(i,null,z(r(C),e=>(a(),u(i,{key:e.prop},[e.visible?(a(),h(J,{key:0,prop:e.prop,label:e.label,width:e.width,type:e.type,align:e.align||"center"},ee({_:2},[e.type==="index"?{name:"default",fn:n(({row:c,column:W,$index:k})=>[_(v(K(k)),1)]),key:"0"}:void 0,e.type?void 0:{name:"default",fn:n(({row:c,column:W,$index:k})=>[V(l.$slots,e.prop,{rows:c,index:k},()=>[e.prop==="operator"?(a(),u(i,{key:0},[t(b,{type:"warning",size:"small",icon:"View",onClick:x=>d.viewFunc(c)},{default:n(()=>s[1]||(s[1]=[_("查看")])),_:2},1032,["onClick"]),t(b,{type:"primary",size:"small",icon:"Edit",onClick:x=>d.editFunc(c)},{default:n(()=>s[2]||(s[2]=[_("编辑")])),_:2},1032,["onClick"]),t(b,{type:"danger",size:"small",icon:"Delete",onClick:x=>I(c)},{default:n(()=>s[3]||(s[3]=[_("删除")])),_:2},1032,["onClick"])],64)):e.formatter?(a(),u("span",re,v(e.formatter(c[e.prop])),1)):(a(),u("span",ce,v(c[e.prop]),1))],!0)]),key:"1"}]),1032,["prop","label","width","type","align"])):f("",!0)],64))),128))]),_:3},8,["data","row-key"]),r(T)?(a(),h(Q,{key:1,class:"paginationBox","current-page":r(w),"page-size":r(F),background:!0,layout:r(E),total:r($),onCurrentChange:A},null,8,["current-page","page-size","layout","total"])):f("",!0)])}}},de=X(ue,[["__scopeId","data-v-ceb58820"]]);export{de as T};
